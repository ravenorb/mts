{% extends 'base.html' %}
{% block content %}
<h2>HK MPF Files</h2>

<table>
  <tr>
    <th>MPF Filename</th>
    <th>Frame Part ID</th>
    <th>Description</th>
    <th>QTY Produced</th>
    <th>Material</th>
    <th>Actions</th>
  </tr>
  {% for row in rows %}
  <tr>
    <td><a href="/engineering/hk-mpfs/{{row.id}}">{{row.mpf_filename}}</a></td>
    <td>{{row.part_id}}</td>
    <td>{{row.description}}</td>
    <td>{{row.qty_produced}}</td>
    <td>{{row.material}}</td>
    <td>
      <details>
        <summary>Edit</summary>
        <form method="post" action="/engineering/hk-mpfs/{{row.id}}/edit">
          <input type="text" name="part_id" value="{{row.part_id}}" placeholder="Frame Part ID" />
          <input type="text" name="description" value="{{row.description}}" placeholder="Description" />
          <input type="number" step="0.01" name="qty_produced" value="{{row.qty_produced}}" placeholder="QTY Produced" />
          <input type="text" name="material" value="{{row.material}}" placeholder="Material" />
          <button type="submit">Save</button>
        </form>
      </details>
      <form method="post" action="/engineering/hk-mpfs/{{row.id}}/delete" style="display:inline; margin-left:0.5rem;">
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
  {% else %}
  <tr><td colspan="6">No parsed HK MPF files available.</td></tr>
  {% endfor %}
</table>
{% endblock %}
