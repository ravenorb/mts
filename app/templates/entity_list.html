{% extends 'base.html' %}
{% block content %}
<h2>{{entity}}</h2>
{% if can_write %}<a href="/entity/{{entity}}/new" class="action-btn">Create</a>{% endif %}
<table>
  <tr>{% for c in cols %}<th>{{c}}</th>{% endfor %}<th>Actions</th></tr>
  {% for r in rows %}
    <tr>
      {% for c in cols %}<td>{{r|attr(c)}}</td>{% endfor %}
      <td>
        <a href="/entity/{{entity}}/{{r.id}}/edit">Edit</a> | <a href="/admin/{{entity}}/{{r.id}}/view">View</a>
        {% if entity == 'part_revisions' %}
          | <a href="/engineering/revisions/{{r.id}}/files">Revision Files</a>
        {% endif %}
        {% if can_write %}
        <form method="post" action="/entity/{{entity}}/{{r.id}}/delete" style="display:inline"><button>Delete</button></form>
        {% endif %}
      </td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
